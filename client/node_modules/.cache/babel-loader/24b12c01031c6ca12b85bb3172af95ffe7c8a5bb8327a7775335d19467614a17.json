{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const fetchUsers = createAsyncThunk(\"users/fetchUsers\", async () => {\n  const response = await axios.get(\"/api/users\");\n  return response.data;\n});\nexport const createUser = createAsyncThunk(\"users/createUser\", async userData => {\n  const response = await axios.post(\"/api/users\", userData);\n  return response.data;\n});\nexport const updateUser = createAsyncThunk(\"users/updateUser\", async _ref => {\n  let {\n    _id,\n    userData\n  } = _ref;\n  const response = await axios.put(`/api/users/${_id}`, userData);\n  return response.data;\n});\nexport const deleteUser = createAsyncThunk(\"users/deleteUser\", async _id => {\n  await axios.delete(`/api/users/${_id}`);\n  return _id;\n});\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    data: [],\n    status: \"idle\",\n    error: null\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchUsers.pending]: state => {\n      state.status = \"loading\";\n    },\n    [fetchUsers.fulfilled]: (state, action) => {\n      state.status = \"succeeded\";\n      state.data = action.payload;\n    },\n    [fetchUsers.rejected]: (state, action) => {\n      state.status = \"failed\";\n      state.error = action.error.message;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.data.push(action.payload);\n    },\n    [updateUser.fulfilled]: (state, action) => {\n      const {\n        id,\n        userData\n      } = action.meta.arg;\n      const userIndex = state.data.findIndex(user => user.id === id);\n      if (userIndex !== -1) {\n        state.data[userIndex] = {\n          ...state.data[userIndex],\n          ...userData\n        };\n      }\n    },\n    [deleteUser.fulfilled]: (state, action) => {\n      const id = action.payload;\n      state.data = state.data.filter(user => user.id !== id);\n    }\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchUsers","response","get","data","createUser","userData","post","updateUser","_ref","_id","put","deleteUser","delete","userSlice","name","initialState","status","error","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","message","push","id","meta","arg","userIndex","findIndex","user","filter","reducer"],"sources":["/Users/ahmeddawod/Desktop/assessment/client/src/redux/user/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const fetchUsers = createAsyncThunk(\"users/fetchUsers\", async () => {\n  const response = await axios.get(\"/api/users\");\n  return response.data;\n});\n\nexport const createUser = createAsyncThunk(\n  \"users/createUser\",\n  async (userData) => {\n    const response = await axios.post(\"/api/users\", userData);\n    return response.data;\n  }\n);\n\nexport const updateUser = createAsyncThunk(\n  \"users/updateUser\",\n  async ({ _id, userData }) => {\n    const response = await axios.put(`/api/users/${_id}`, userData);\n    return response.data;\n  }\n);\n\nexport const deleteUser = createAsyncThunk(\"users/deleteUser\", async (_id) => {\n  await axios.delete(`/api/users/${_id}`);\n  return _id;\n});\n\nconst userSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    data: [],\n    status: \"idle\",\n    error: null,\n  },\n  reducers: {},\n  extraReducers: {\n    [fetchUsers.pending]: (state) => {\n      state.status = \"loading\";\n    },\n    [fetchUsers.fulfilled]: (state, action) => {\n      state.status = \"succeeded\";\n      state.data = action.payload;\n    },\n    [fetchUsers.rejected]: (state, action) => {\n      state.status = \"failed\";\n      state.error = action.error.message;\n    },\n    [createUser.fulfilled]: (state, action) => {\n      state.data.push(action.payload);\n    },\n    [updateUser.fulfilled]: (state, action) => {\n      const { id, userData } = action.meta.arg;\n      const userIndex = state.data.findIndex((user) => user.id === id);\n      if (userIndex !== -1) {\n        state.data[userIndex] = { ...state.data[userIndex], ...userData };\n      }\n    },\n    [deleteUser.fulfilled]: (state, action) => {\n      const id = action.payload;\n      state.data = state.data.filter((user) => user.id !== id);\n    },\n  },\n});\n\nexport default userSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}